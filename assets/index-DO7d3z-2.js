(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function _(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=_(r);fetch(r.href,o)}})();var W,h,he,P,_e,me,ve,ye,X,V,K,U={},ge=[],Te=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function S(t,e){for(var _ in e)t[_]=e[_];return t}function Y(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ee(t,e,_){var n,r,o,l={};for(o in e)o=="key"?n=e[o]:o=="ref"?r=e[o]:l[o]=e[o];if(arguments.length>2&&(l.children=arguments.length>3?W.call(arguments,2):_),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return M(t,l,n,r,null)}function M(t,e,_,n,r){var o={type:t,props:e,key:_,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++he,__i:-1,__u:0};return r==null&&h.vnode!=null&&h.vnode(o),o}function q(t){return t.children}function D(t,e){this.props=t,this.context=e}function $(t,e){if(e==null)return t.__?$(t.__,t.__i+1):null;for(var _;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null)return _.__e;return typeof t.type=="function"?$(t):null}function be(t){var e,_;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null){t.__e=t.__c.base=_.__e;break}return be(t)}}function ne(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!j.__r++||_e!=h.debounceRendering)&&((_e=h.debounceRendering)||me)(j)}function j(){for(var t,e,_,n,r,o,l,s=1;P.length;)P.length>s&&P.sort(ve),t=P.shift(),s=P.length,t.__d&&(_=void 0,r=(n=(e=t).__v).__e,o=[],l=[],e.__P&&((_=S({},n)).__v=n.__v+1,h.vnode&&h.vnode(_),Z(e.__P,_,n,e.__n,e.__P.namespaceURI,32&n.__u?[r]:null,o,r??$(n),!!(32&n.__u),l),_.__v=n.__v,_.__.__k[_.__i]=_,we(o,_,l),_.__e!=r&&be(_)));j.__r=0}function ke(t,e,_,n,r,o,l,s,u,c,a){var i,p,f,v,x,y,d=n&&n.__k||ge,m=e.length;for(u=Ce(_,e,d,u,m),i=0;i<m;i++)(f=_.__k[i])!=null&&(p=f.__i==-1?U:d[f.__i]||U,f.__i=i,y=Z(t,f,p,r,o,l,s,u,c,a),v=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&ee(p.ref,null,f),a.push(f.ref,f.__c||v,f)),x==null&&v!=null&&(x=v),4&f.__u||p.__k===f.__k?u=xe(f,u,t):typeof f.type=="function"&&y!==void 0?u=y:v&&(u=v.nextSibling),f.__u&=-7);return _.__e=x,u}function Ce(t,e,_,n,r){var o,l,s,u,c,a=_.length,i=a,p=0;for(t.__k=new Array(r),o=0;o<r;o++)(l=e[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(u=o+p,(l=t.__k[o]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?M(null,l,null,null,null):J(l)?M(q,{children:l},null,null,null):l.constructor==null&&l.__b>0?M(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,s=null,(c=l.__i=Ue(l,_,u,i))!=-1&&(i--,(s=_[c])&&(s.__u|=2)),s==null||s.__v==null?(c==-1&&(r>a?p--:r<a&&p++),typeof l.type!="function"&&(l.__u|=4)):c!=u&&(c==u-1?p--:c==u+1?p++:(c>u?p--:p++,l.__u|=4))):t.__k[o]=null;if(i)for(o=0;o<a;o++)(s=_[o])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=$(s)),Ne(s,s));return n}function xe(t,e,_){var n,r;if(typeof t.type=="function"){for(n=t.__k,r=0;n&&r<n.length;r++)n[r]&&(n[r].__=t,e=xe(n[r],e,_));return e}t.__e!=e&&(e&&t.type&&!_.contains(e)&&(e=$(t)),_.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ue(t,e,_,n){var r,o,l=t.key,s=t.type,u=e[_];if(u===null&&t.key==null||u&&l==u.key&&s==u.type&&(2&u.__u)==0)return _;if(n>(u!=null&&(2&u.__u)==0?1:0))for(r=_-1,o=_+1;r>=0||o<e.length;){if(r>=0){if((u=e[r])&&(2&u.__u)==0&&l==u.key&&s==u.type)return r;r--}if(o<e.length){if((u=e[o])&&(2&u.__u)==0&&l==u.key&&s==u.type)return o;o++}}return-1}function re(t,e,_){e[0]=="-"?t.setProperty(e,_??""):t[e]=_==null?"":typeof _!="number"||Te.test(e)?_:_+"px"}function L(t,e,_,n,r){var o,l;e:if(e=="style")if(typeof _=="string")t.style.cssText=_;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)_&&e in _||re(t.style,e,"");if(_)for(e in _)n&&_[e]==n[e]||re(t.style,e,_[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(ye,"$1")),l=e.toLowerCase(),e=l in t||e=="onFocusOut"||e=="onFocusIn"?l.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=_,_?n?_.u=n.u:(_.u=X,t.addEventListener(e,o?K:V,o)):t.removeEventListener(e,o?K:V,o);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&_==1?"":_))}}function oe(t){return function(e){if(this.l){var _=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<_.u)return;return _(h.event?h.event(e):e)}}}function Z(t,e,_,n,r,o,l,s,u,c){var a,i,p,f,v,x,y,d,m,H,N,F,T,te,A,E,B,w=e.type;if(e.constructor!=null)return null;128&_.__u&&(u=!!(32&_.__u),o=[s=e.__e=_.__e]),(a=h.__b)&&a(e);e:if(typeof w=="function")try{if(d=e.props,m="prototype"in w&&w.prototype.render,H=(a=w.contextType)&&n[a.__c],N=a?H?H.props.value:a.__:n,_.__c?y=(i=e.__c=_.__c).__=i.__E:(m?e.__c=i=new w(d,N):(e.__c=i=new D(d,N),i.constructor=w,i.render=Ae),H&&H.sub(i),i.props=d,i.state||(i.state={}),i.context=N,i.__n=n,p=i.__d=!0,i.__h=[],i._sb=[]),m&&i.__s==null&&(i.__s=i.state),m&&w.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=S({},i.__s)),S(i.__s,w.getDerivedStateFromProps(d,i.__s))),f=i.props,v=i.state,i.__v=e,p)m&&w.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),m&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(m&&w.getDerivedStateFromProps==null&&d!==f&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(d,N),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(d,i.__s,N)===!1||e.__v==_.__v){for(e.__v!=_.__v&&(i.props=d,i.state=i.__s,i.__d=!1),e.__e=_.__e,e.__k=_.__k,e.__k.some(function(C){C&&(C.__=e)}),F=0;F<i._sb.length;F++)i.__h.push(i._sb[F]);i._sb=[],i.__h.length&&l.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(d,i.__s,N),m&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(f,v,x)})}if(i.context=N,i.props=d,i.__P=t,i.__e=!1,T=h.__r,te=0,m){for(i.state=i.__s,i.__d=!1,T&&T(e),a=i.render(i.props,i.state,i.context),A=0;A<i._sb.length;A++)i.__h.push(i._sb[A]);i._sb=[]}else do i.__d=!1,T&&T(e),a=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++te<25);i.state=i.__s,i.getChildContext!=null&&(n=S(S({},n),i.getChildContext())),m&&!p&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(f,v)),E=a,a!=null&&a.type===q&&a.key==null&&(E=Se(a.props.children)),s=ke(t,J(E)?E:[E],e,_,n,r,o,l,s,u,c),i.base=e.__e,e.__u&=-161,i.__h.length&&l.push(i),y&&(i.__E=i.__=null)}catch(C){if(e.__v=null,u||o!=null)if(C.then){for(e.__u|=u?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;o[o.indexOf(s)]=null,e.__e=s}else for(B=o.length;B--;)Y(o[B]);else e.__e=_.__e,e.__k=_.__k;h.__e(C,e,_)}else o==null&&e.__v==_.__v?(e.__k=_.__k,e.__e=_.__e):s=e.__e=Fe(_.__e,e,_,n,r,o,l,u,c);return(a=h.diffed)&&a(e),128&e.__u?void 0:s}function we(t,e,_){for(var n=0;n<_.length;n++)ee(_[n],_[++n],_[++n]);h.__c&&h.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(o){o.call(r)})}catch(o){h.__e(o,r.__v)}})}function Se(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:J(t)?t.map(Se):S({},t)}function Fe(t,e,_,n,r,o,l,s,u){var c,a,i,p,f,v,x,y=_.props,d=e.props,m=e.type;if(m=="svg"?r="http://www.w3.org/2000/svg":m=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((f=o[c])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){t=f,o[c]=null;break}}if(t==null){if(m==null)return document.createTextNode(d);t=document.createElementNS(r,m,d.is&&d),s&&(h.__m&&h.__m(e,o),s=!1),o=null}if(m==null)y===d||s&&t.data==d||(t.data=d);else{if(o=o&&W.call(t.childNodes),y=_.props||U,!s&&o!=null)for(y={},c=0;c<t.attributes.length;c++)y[(f=t.attributes[c]).name]=f.value;for(c in y)if(f=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")i=f;else if(!(c in d)){if(c=="value"&&"defaultValue"in d||c=="checked"&&"defaultChecked"in d)continue;L(t,c,null,f,r)}}for(c in d)f=d[c],c=="children"?p=f:c=="dangerouslySetInnerHTML"?a=f:c=="value"?v=f:c=="checked"?x=f:s&&typeof f!="function"||y[c]===f||L(t,c,f,y[c],r);if(a)s||i&&(a.__html==i.__html||a.__html==t.innerHTML)||(t.innerHTML=a.__html),e.__k=[];else if(i&&(t.innerHTML=""),ke(e.type=="template"?t.content:t,J(p)?p:[p],e,_,n,m=="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,l,o?o[0]:_.__k&&$(_,0),s,u),o!=null)for(c=o.length;c--;)Y(o[c]);s||(c="value",m=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[c]||m=="progress"&&!v||m=="option"&&v!=y[c])&&L(t,c,v,y[c],r),c="checked",x!=null&&x!=t[c]&&L(t,c,x,y[c],r))}return t}function ee(t,e,_){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(r){h.__e(r,_)}}function Ne(t,e,_){var n,r;if(h.unmount&&h.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||ee(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){h.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(r=0;r<n.length;r++)n[r]&&Ne(n[r],e,_||typeof t.type!="function");_||Y(t.__e),t.__c=t.__=t.__e=void 0}function Ae(t,e,_){return this.constructor(t,_)}function Le(t,e,_){var n,r,o,l;e==document&&(e=document.documentElement),h.__&&h.__(t,e),r=(n=!1)?null:e.__k,o=[],l=[],Z(e,t=e.__k=Ee(q,null,[t]),r||U,U,e.namespaceURI,r?null:e.firstChild?W.call(e.childNodes):null,o,r?r.__e:e.firstChild,n,l),we(o,t,l)}W=ge.slice,h={__e:function(t,e,_,n){for(var r,o,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(t)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,n||{}),l=r.__d),l)return r.__E=r}catch(s){t=s}throw t}},he=0,D.prototype.setState=function(t,e){var _;_=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},_),this.props)),t&&S(_,t),t!=null&&this.__v&&(e&&this._sb.push(e),ne(this))},D.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ne(this))},D.prototype.render=q,P=[],me=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve=function(t,e){return t.__v.__b-e.__v.__b},j.__r=0,ye=/(PointerCapture)$|Capture$/i,X=0,V=oe(!1),K=oe(!0);var Oe=0;function b(t,e,_,n,r,o){e||(e={});var l,s,u=e;if("ref"in u)for(s in u={},e)s=="ref"?l=e[s]:u[s]=e[s];var c={type:t,props:u,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Oe,__i:-1,__u:0,__source:r,__self:o};if(typeof t=="function"&&(l=t.defaultProps))for(s in l)u[s]===void 0&&(u[s]=l[s]);return h.vnode&&h.vnode(c),c}var I,g,z,ie,G=0,Pe=[],k=h,le=k.__b,se=k.__r,ce=k.diffed,ue=k.__c,ae=k.unmount,fe=k.__;function $e(t,e){k.__h&&k.__h(g,t,G||e),G=0;var _=g.__H||(g.__H={__:[],__h:[]});return t>=_.__.length&&_.__.push({}),_.__[t]}function O(t){return G=1,Me(He,t)}function Me(t,e,_){var n=$e(I++,2);if(n.t=t,!n.__c&&(n.__=[He(void 0,e),function(s){var u=n.__N?n.__N[0]:n.__[0],c=n.t(u,s);u!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=g,!g.__f)){var r=function(s,u,c){if(!n.__c.__H)return!0;var a=n.__c.__H.__.filter(function(p){return!!p.__c});if(a.every(function(p){return!p.__N}))return!o||o.call(this,s,u,c);var i=n.__c.props!==s;return a.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(i=!0)}}),o&&o.call(this,s,u,c)||i};g.__f=!0;var o=g.shouldComponentUpdate,l=g.componentWillUpdate;g.componentWillUpdate=function(s,u,c){if(this.__e){var a=o;o=void 0,r(s,u,c),o=a}l&&l.call(this,s,u,c)},g.shouldComponentUpdate=r}return n.__N||n.__}function De(t,e){var _=$e(I++,3);!k.__s&&Ie(_.__H,e)&&(_.__=t,_.u=e,g.__H.__h.push(_))}function Re(){for(var t;t=Pe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(R),t.__H.__h.forEach(Q),t.__H.__h=[]}catch(e){t.__H.__h=[],k.__e(e,t.__v)}}k.__b=function(t){g=null,le&&le(t)},k.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),fe&&fe(t,e)},k.__r=function(t){se&&se(t),I=0;var e=(g=t.__c).__H;e&&(z===g?(e.__h=[],g.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.u=_.__N=void 0})):(e.__h.forEach(R),e.__h.forEach(Q),e.__h=[],I=0)),z=g},k.diffed=function(t){ce&&ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Pe.push(e)!==1&&ie===k.requestAnimationFrame||((ie=k.requestAnimationFrame)||je)(Re)),e.__H.__.forEach(function(_){_.u&&(_.__H=_.u),_.u=void 0})),z=g=null},k.__c=function(t,e){e.some(function(_){try{_.__h.forEach(R),_.__h=_.__h.filter(function(n){return!n.__||Q(n)})}catch(n){e.some(function(r){r.__h&&(r.__h=[])}),e=[],k.__e(n,_.__v)}}),ue&&ue(t,e)},k.unmount=function(t){ae&&ae(t);var e,_=t.__c;_&&_.__H&&(_.__H.__.forEach(function(n){try{R(n)}catch(r){e=r}}),_.__H=void 0,e&&k.__e(e,_.__v))};var pe=typeof requestAnimationFrame=="function";function je(t){var e,_=function(){clearTimeout(n),pe&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(_,35);pe&&(e=requestAnimationFrame(_))}function R(t){var e=g,_=t.__c;typeof _=="function"&&(t.__c=void 0,_()),g=e}function Q(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(_,n){return _!==t[n]})}function He(t,e){return typeof e=="function"?e(t):e}function de(t){const e=[],_=t.split(/\n\s*\n/);for(const n of _){const r=n.trim().split(/\r?\n/);if(r.length>=3){const o=r[0],[l,s]=r[1].split(" --> "),u=r.slice(2).join(" ");e.push({index:o,start:l,end:s,text:u})}}return e}function We(){const[t,e]=O([]),[_,n]=O(null),[r,o]=O(""),[l,s]=O("");return De(()=>{fetch("/prompt.json").then(a=>a.ok?a.text():null).then(a=>{if(a)try{n(JSON.parse(a)),s("prompt.json")}catch{n({error:"Invalid JSON in prompt.json"})}}),fetch("/test.srt").then(a=>a.ok?a.text():null).then(a=>{a&&(e(de(a)),o("test.srt"))})},[]),b("div",{class:"p-4 max-w-2xl mx-auto",children:[b("h1",{class:"text-2xl font-bold mb-4",children:"SRT Translator"}),b("div",{class:"mb-4",children:[b("label",{class:"block mb-1 font-semibold",children:"Upload SRT file:"}),b("input",{type:"file",accept:".srt",onChange:a=>{var f;const p=(f=a.target.files)==null?void 0:f[0];if(o((p==null?void 0:p.name)||""),p){const v=new FileReader;v.onload=x=>{var d;const y=(d=x.target)==null?void 0:d.result;typeof y=="string"&&e(de(y))},v.readAsText(p)}},class:"mb-2"}),r&&b("div",{class:"text-xs text-gray-500",children:r})]}),b("div",{class:"mb-4",children:[b("label",{class:"block mb-1 font-semibold",children:"Upload prompt.json:"}),b("input",{type:"file",accept:".json",onChange:a=>{var f;const p=(f=a.target.files)==null?void 0:f[0];if(s((p==null?void 0:p.name)||""),p){const v=new FileReader;v.onload=x=>{var d;const y=(d=x.target)==null?void 0:d.result;if(typeof y=="string")try{n(JSON.parse(y))}catch{n({error:"Invalid JSON"})}},v.readAsText(p)}},class:"mb-2"}),l&&b("div",{class:"text-xs text-gray-500",children:l})]}),b("div",{class:"mb-4",children:[b("h2",{class:"font-semibold",children:["SRT Preview (",t.length," entries):"]}),b("ul",{class:"text-xs max-h-40 overflow-auto bg-gray-50 p-2 rounded",children:[t.slice(0,5).map((a,i)=>b("li",{children:[b("b",{children:a.index}),": ",a.text]},i)),t.length>5&&b("li",{children:"..."})]})]}),b("div",{class:"mb-4",children:[b("h2",{class:"font-semibold",children:"Prompt JSON Preview:"}),b("pre",{class:"bg-gray-100 p-2 rounded text-xs overflow-auto max-h-32",children:_?JSON.stringify(_,null,2):"No prompt loaded."})]})]})}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("app");t&&Le(b(We,{}),t)});
